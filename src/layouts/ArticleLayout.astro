---
import BaseLayout from './BaseLayout.astro';

export interface Props {
  content: {
    title: string;
    description: string;
    date: Date;
    featured_image: string;
    author?: string;
  };
}

const { content } = Astro.props;
const { title, description, date, featured_image, author } = content;

const formattedDate = new Date(date).toLocaleDateString('en-US', {
  year: 'numeric',
  month: 'long',
  day: 'numeric',
});
---
<BaseLayout title={title} description={description} image={featured_image} type="article">
  <article class="bg-white dark:bg-gray-800 py-16 lg:py-24">
    <div class="container-custom max-w-4xl mx-auto">
      <header class="text-center mb-12">
        <h1 class="text-4xl lg:text-6xl font-serif font-bold text-gray-900 dark:text-white mb-4">
          {title}
        </h1>
        <div class="text-gray-500 dark:text-gray-400">
          <time datetime={date.toISOString()}>{formattedDate}</time>
          {author && <span> by {author}</span>}
        </div>
      </header>

      <img src={featured_image} alt={title} class="w-full rounded-2xl shadow-lg mb-12 object-cover aspect-video" />

      <div class="prose prose-lg dark:prose-invert max-w-none prose-a:text-royal-600 dark:prose-a:text-royal-400">
        <slot /> <!-- This is where the markdown content will be injected -->
      </div>
    </div>
  </article>
</BaseLayout>