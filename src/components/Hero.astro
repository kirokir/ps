---
export interface Props {
  title: string;
  subtitle: string;
  images?: string[];
  ctaPrimary?: { text: string; href: string };
  ctaSecondary?: { text: string; href: string };
}
const {
  title = "Timeless Moments, Artfully Captured",
  subtitle = "Lenvow is a creative studio dedicated to preserving your most cherished memories through elegant photography and cinematic videography.",
  images = [
    "https://res.cloudinary.com/demo/image/upload/c_fill,w_1920,h_1080,q_auto,f_auto/e_improve,w_1920,h_1080,c_fill,g_auto/v1/samples/landscapes/beach-boat.jpg",
    "https://res.cloudinary.com/demo/image/upload/e_improve,w_1920,h_1080,c_fill,g_auto/v1/samples/people/smiling-man.jpg",
    "https://res.cloudinary.com/demo/image/upload/e_improve,w_1920,h_1080,c_fill,g_auto/v1/samples/people/woman-in-white-dress.jpg"
  ],
  ctaPrimary = { text: "View Our Work", href: "/portfolio" },
  ctaSecondary = { text: "Book a Session", href: "/contact" }
} = Astro.props;
---

<section class="relative h-screen min-h-[700px] flex items-center justify-center overflow-hidden">
  
  <!-- Background Container -->
  <div class="absolute inset-0 z-0">
    <div class="swiper hero-swiper w-full h-full">
      <div class="swiper-wrapper">
        {images.map((image, index) => (
          <div class="swiper-slide">
            <img 
              src={image} 
              alt={`Hero image ${index + 1}`} 
              class="w-full h-full object-cover" 
              loading={index === 0 ? "eager" : "lazy"}
              width="1920"
              height="1080"
            />
          </div>
        ))}
      </div>
    </div>
    <div class="hero-overlay absolute inset-0 z-10"></div>
  </div>

  <!-- Content Section -->
  <div class="relative z-20 text-center px-4 max-w-5xl mx-auto">
    <div class="animate-fade-in">
      <h1 class="text-5xl sm:text-6xl lg:text-8xl font-serif text-white mb-6 leading-tight drop-shadow-md">
        {title}
      </h1>
      <p class="text-2xl sm:text-3xl font-sans text-brand-light mb-8 max-w-3xl mx-auto drop-shadow-sm">
        {subtitle}
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
        <a href={ctaPrimary.href} class="btn-primary">{ctaPrimary.text}</a>
        <a href={ctaSecondary.href} class="btn-secondary text-white border-white/50 hover:bg-white/20">{ctaSecondary.text}</a>
      </div>
    </div>
  </div>

  <!-- Scroll Down Indicator -->
  <div class="absolute bottom-8 left-1/2 -translate-x-1/2 z-20">
    <button onclick="document.querySelector('main').scrollIntoView({ behavior: 'smooth' })" class="text-white/80 hover:text-white transition-opacity duration-300 p-2" aria-label="Scroll down">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path></svg>
    </button>
  </div>
</section>

<!-- Swiper CSS & JS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

<!-- Initialize Swiper -->
<script>
  document.addEventListener('DOMContentLoaded', function () {
    if (document.querySelector('.hero-swiper')) {
      // @ts-ignore - This tells TypeScript to ignore this line, as we know the Swiper class
      // will be available globally from the script tag we loaded above.
      const swiper = new Swiper('.hero-swiper', {
        loop: true,
        autoplay: { delay: 5000 },
        effect: 'fade',
        speed: 1000,
        allowTouchMove: false,
      });
    }
  });
</script>